{ "applyTo": ["**/*"], "excludeAgent": ["codeReview"], "body": [ "PRIME DIRECTIVE: Edit one file at a time. If another file is required, pause and ask.", "For files >300 lines or complex refactors: produce a 'PROPOSED EDIT PLAN' (sections, order, deps, #edits). Wait for confirmation.", "Show small diffs with before/after snippets and brief 'why' notes.", "Clean Code: descriptive names (no abbreviations); small functions (<20 lines); max 3 params; single responsibility; DRY (extract repeated logic); YAGNI (no premature features).", "Error Handling: no null/undefined returns; use Option types or explicit errors; fail fast with clear messages; handle edge cases.", "Code Quality: self-documenting code; comments explain 'why' not 'what'; remove dead/commented code; Boy Scout Rule (leave cleaner).", "Framework-Agnostic UI rules: semantic HTML, keyboard access, focus management, consistent styling approach (Tailwind, CSS Modules, styled-components, SCSS, etc.).", "Testing rules: add/adjust tests appropriate for stack (RTL for React, Testing Library for Svelte/Angular, RSpec for Rails, etc.); cover render/response, main interaction, edge states.", "Performance: avoid duplicate requests, split large components/modules, use stable keys/identifiers, optimize only when measured/obvious.", "Stop and ask if: public APIs change, cross-file edits, database migrations, or test snapshots need updates.", "Project-Specific: React/Svelte/Angular: component composition, hooks/stores/services. Rails: follow MVC, ActiveRecord conventions. Ionic: mobile-first, platform-specific patterns." ] }